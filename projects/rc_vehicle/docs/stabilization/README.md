# Документация системы стабилизации

Документация по разработке системы стабилизации для RC-машины на базе **ESP32-S3 N16R8**.

## Содержание

- [`roadmap_ru.md`](./roadmap_ru.md) — роудмап разработки системы стабилизации с фазами, задачами и техническими требованиями

## Обзор

Система стабилизации реализуется на **единой отладочной плате ESP32-S3 N16R8** (dual-core Xtensa LX7 @ 240 МГц, FPU, 16 МБ Flash, 8 МБ PSRAM). Control loop работает на выделенном ядре (Core 1) с частотой 500 Гц.

Система стабилизации предназначена для:
- Контроля рыскания (yaw rate control) — предотвращение неконтролируемых разворотов
- Компенсации наклона (pitch/roll compensation) — стабилизация на склонах
- Управления дрифтом (drift assist) — поддержание заданного угла заноса в повороте, упрощение контроля при движении в управляемом скольжении
- Улучшения плавности управления

## Фильтрация

Архитектура фильтрации данных IMU:
- **Madgwick AHRS** — оценка ориентации (кватернион → pitch/roll/yaw) из акселерометра и гироскопа
- **LPF Butterworth 2-го порядка** — фильтрация угловой скорости (gyro Z) для yaw rate PID
- **EKF** (Фаза 4) — оценка угла заноса (slip angle) для drift assist

## Статус

Система стабилизации находится в стадии планирования. Начало разработки запланировано после завершения MVP базовой функциональности управления.

## Связанная документация

- Основное ТЗ: [`../ts.md`](../ts.md)
- Протоколы: [`../interfaces_protocols.md`](../interfaces_protocols.md)
- Тайминги: [`../firmware_timing.md`](../firmware_timing.md)
