# Production Environment (Yandex Cloud)
#
# Скопируйте на сервер: /opt/experiment-tracking/.env
# ВНИМАНИЕ: содержит секреты, не коммитьте в git!

# --- Container Registry ---
CR_REGISTRY=cr.yandex/YOUR_REGISTRY_ID
IMAGE_TAG=latest

# --- PostgreSQL (Yandex Managed) ---
# Хост: terraform output pg_cluster_host
AUTH_DATABASE_URL=postgresql://auth_user:PASSWORD@c-CLUSTER.rw.mdb.yandexcloud.net:6432/auth_db?sslmode=verify-full
EXPERIMENT_DATABASE_URL=postgresql://experiment_user:PASSWORD@c-CLUSTER.rw.mdb.yandexcloud.net:6432/experiment_db?sslmode=verify-full

# --- Auth Service ---
JWT_SECRET=GENERATE_RANDOM_SECRET_AT_LEAST_32_CHARS
JWT_ALGORITHM=HS256
ACCESS_TTL_SEC=900
REFRESH_TTL_SEC=1209600
BCRYPT_ROUNDS=12

# --- Auth Proxy (BFF) ---
COOKIE_DOMAIN=your-domain.com
COOKIE_SECURE=true
COOKIE_SAMESITE=lax
ACCESS_COOKIE_NAME=access_token
REFRESH_COOKIE_NAME=refresh_token

# CORS
CORS_ORIGINS=https://your-domain.com
CORS_ALLOWED_ORIGINS=https://your-domain.com

# Rate limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=60

# --- Grafana ---
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_STRONG_PASSWORD
GRAFANA_ROOT_URL=http://your-domain.com:3001

# --- DB Pool ---
AUTH_SERVICE_DB_POOL_SIZE=20
EXPERIMENT_SERVICE_DB_POOL_SIZE=20
TELEMETRY_INGEST_DB_POOL_SIZE=20
